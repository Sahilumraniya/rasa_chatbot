version: "3.1"

rules:
- rule: Handle introduction
  steps:
    - intent: introduce
    - action: action_remember_name
    - action: utter_greet

- rule: Handle greetings (no name)
  steps:
    - intent: greet
    - action: utter_greet_no_name

- rule: Handle company or team info
  steps:
    - intent: ask_info
    - action: action_vector_reasoner

- rule: Handle project related question
  steps:
    - intent: ask_project
    - action: action_vector_reasoner

- rule: Handle unknown or fallback
  steps:
    - intent: unknown
    - action: action_llm_fallback
    - action: action_log_and_learn

- rule: Goodbye with name
  condition:
    - slot_was_set:
        - user_name: true
  steps:
    - intent: goodbye
    - action: utter_goodbye_with_name

- rule: Goodbye without name
  condition:
    - slot_was_set:
        - user_name: null
  steps:
    - intent: goodbye
    - action: utter_goodbye_no_name
